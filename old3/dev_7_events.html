<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="grid.css">
    <script src="src/an.dev.without_events.js"></script>
    <style>
        *{
            font-family: 'Open Sans', sans-serif;
            font-size: 12px;
        }
        html, body{}
        #debugpanel{
/*            width: 600px;
            margin: 0 auto;
            border: 2px solid #1e1e1e;
            padding: 5px;
            background-color: #2b2b2b;
            color: #d1d1d1;*/
        }
        #canvas{
            border: 2px solid #1e1e1e;
            margin: 5px auto;
            position: relative;
            display: block;
        }
    </style>
</head>
<body>

<div id="counter"></div>
<div id="debugpanel"></div>
<div>
    <canvas id="canvas"></canvas>
</div>

<div id="pointmap"></div>

<script>

    An.Debug.setDebugPanelElement('#debugpanel');
    An.Debug.field('Draw Frame: ');
    An.Debug.field('Mouse position: ');

    var conf = {
        selector: 'canvas#canvas',
        width: 800,
        height: 400,
        fps: 0,
        autoStart: true,
        autoClear: true,
        enableEventClick: true,
        enableEventMouseMovie: false,
        enableEventKeys: true,
        onClick: function (point) {
            An.Debug.field('Mouse position: ', point.x + 'px / ' + point.y + 'px');
        },
        onFrame: function (an) {
            An.Debug.field('Draw Frame: ', an.frameCounter);
        }
    };
    
    var an = new An(conf);

/*    an.addEventClick([0, 0, 100, 100], function(event, e){
        console.log(event, e);
    });
    an.addEventClick([0, 100, 100, 100], function(event, e){
        console.log(event, e);
    });
*/
    an.addEventKeydown(38, function(event){
        


        return function(){
            console.log('addEventKeydown >>> ', event);
        };
    });

    an.scene({
        index: 3,
        x: 10,
        runner: function (ctx) {

            //an.graphic.rect(0, 0, 100, 100, 'rgba(0,0,0,0.5)');
            //an.graphic.circle(100, 100, 50, 'rgba(125, 125, 0, 0.5)');
            //an.graphic.rectRound(0, 0, 100, 100, 25, 'rgba(125, 125, 0, 0.5)');
            //var points = [100,50, 150,150, 50,150];

            // rube
            var points = [200,100,250,150,250,200,200,250,150,200,150,150];
            //an.graphic.shape(points, 'rgba(125, 125, 0, 0.5)', false);

            // tree
            points = [100,395,50,285,65,235,30,180,50,150,45,180,90,235,70,280,105,360,100,270,110,190,85,100,125,185,120,270,125,350,150,295,135,230,185,180,225,260,180,205,155,240,175,305,145,360,160,360,150,385,170,395];
            //an.graphic.shape(points, 'rgba(125, 125, 0, 0.5)', true);

            // label
            points = [200,0,220,50,200,65,400,65,385,0];
            //an.graphic.shape(points, '#285773', true);

            // label
            points = [150,100,250,100,200,150,215,250,200,400,190,250,200,155];
            //an.graphic.shape(points, '#4B4173', true);

            points = [400,0,400,50,250,150,100,150,45,50,100,0,185,245,180,295,100,310,75,220,270,310,200,365,80,365,20,285,20,185,50,125,150,75,250,65,295,95,320,190,315,250];
            //an.graphic.shape(points, 'rgba(125, 125, 0, 0.5)', false, false);

            //kijen
            points = [400,150,400,400,350,400,375,305,325,235,355,175,370,260,380,185,380,115,400,80];
            //an.graphic.shape(points, '#042528', false, false);

            points = [135,105,160,85,180,125,215,90,240,160,275,65,290,130,315,115,315,185,345,215,270,260,215,300,175,230,130,175,120,135];
            //an.graphic.shape(points, '#042528', false)
            
            
            
            points = [150,50,200,50,200,200,250,200,250,250,200,250,200,300,150,300,150,250,100,250,100,205,150,200];
            //an.graphic.shape(points, '#042528', false)
            
            
            
            
            
            
            
            
            
            
            
            

            ctx.beginPath();
            ctx.rect(this.x, 50, 20, 20);
            ctx.fillStyle = '#CA921D';
            ctx.fill();
            ctx.closePath();

            this.x += 1;
            if (this.x > (an.width - 20)) this.x = 10;
        }
    });



an.render();


/*
 x, y, width, height
    --------------------------------------





























a.scene({
    hide: false,
    index: 4,
    name: 'fore',
    x: 10,
    color: '#CA921D',
    lastRectangle: [],
    runner: function(ctx) {

        a.removeEventClick(this.lastRectangle);

        this.lastRectangle = [this.x, 0, 20, 20];

        var that = this;
        a.addEventClick(this.lastRectangle , function(event, rectangle){
            console.log(event, rectangle);
            that.color = An.Util.randColor();
        });

        ctx.rect(this.x, 0, 20, 20);
        ctx.fillStyle = this.color;
        ctx.fill();

        this.x += 2;
        if(this.x > (a.width - 20)) this.x = 10;
    }
});
a.scene({
    hide: false,
    index: 3,
    name: 'three',
    x: 10,
    runner: function(ctx){
        ctx.rect(this.x, 50, 20, 20);
        ctx.fillStyle = '#CA921D';
        ctx.fill();

        this.x += 1;
        if(this.x > (a.width - 20)) this.x = 10;
    }
});

a.render();

*/


/*
var sceneObject = {
    hide: false,
    index: 1,
    name: 'scene',
    runner: function(ctx){}
};

var s1 = An.Util.cloneObject(sceneObject),
    s2 = An.Util.cloneObject(sceneObject),
    s3 = An.Util.cloneObject(sceneObject),
    s4 = An.Util.cloneObject(sceneObject),
    s5 = An.Util.cloneObject(sceneObject);

s1.name = '1';
s2.name = '2';
s3.name = '3';
s4.name = '4';
s5.name = '5';

a.stage('main', s1);
a.stage('main', s2);
a.stage('main', s3);
a.stage('main', s4);
a.stage('main', s5);

a.stage('page', s1);
a.stage('page', s3);
a.stage('page', s5);

a.render('main');
//a.render('page');

*/


/*
a.scene({
    hide: false,
    index: 4,
    name: 'fore',
    runner: function(ctx){}
});
a.scene({
    hide: true,
    index: 3,
    name: 'three',
    runner: function(ctx){}
});
a.scene({
    hide: false,
    index: 1,
    name: 'one',
    runner: function(ctx){}
});
a.scene({
    hide: false,
    index: 2,
    name: 'two',
    runner: function(ctx){}
});
a.scene({
    hide: false,
    index: 5,
    name: 'five',
    runner: function(ctx){}
});
*/











</script>
</body>
</html>